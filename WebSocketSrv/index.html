<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <title>websocket client</title>
</head>
<body>
    <div>
        <button onclick="onSendMsg()">Invia messaggio</button>
    </div>
    <script type="text/javascript">
        var ws;

        function onSendMsg() {
            ws.send('holap');
        }

        $(function () {
            var webSocket = window.WebSocket || window.MozWebSocket;
            ws = new webSocket('ws://localhost:8181');

            ws.onopen = function (e) {
                console.log('Connection opened');
            }

            ws.onclose = function (e) {
                console.log('Connection closed');
            }

            ws.onmessage = function (e) {
                //var dataObject = JSON.parse(e.data);
                console.log(e.data);
            }
        });
    </script>
</body>
</html>